<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Sensity: Deepfake Detection</title>

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">


    <!-- Vendor CSS Files -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet" />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link
      href="assets/vendor/owl.carousel/assets/owl.carousel.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/venobox/venobox.css" rel="stylesheet" />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/uppload@2.3.0/dist/uppload.css"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/uppload@2.3.0/dist/themes/light.css"
      crossorigin="anonymous"
    />
    <style>
      .need-help-link {
        display: none;
      }
      .uppload-modal section {
        padding: 0;
      }
    </style>
  </head>

  <body
    data-aos-easing="ease-in-out"
    data-aos-duration="800"
    data-aos-delay="0"
  >
    <button type="button" class="mobile-nav-toggle d-lg-none">
      <i class="icofont-navigation-menu"></i>
    </button>

    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top">
      <div class="container d-flex">
        <div class="logo mr-auto">
          <h1 class="text-light">SENSITY</h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
        </div>
      </div>
    </header>
    <!-- End Header -->

    <!-- ======= Hero Section ======= -->
    <section id="hero" class="d-flex align-items-center">
      <div class="container">
        <div class="row">
          <div
            class="col-lg-6 d-lg-flex flex-lg-column justify-content-center align-items-stretch pt-5 pt-lg-0 order-2 order-lg-1 aos-init aos-animate"
            data-aos="fade-up"
          >
            <div>
              <h1>Sensity - Hệ thống phát hiện DeepFake dựa trên <br>
                Deep Learning</h1>
              <h2>Vui lòng tải ảnh lên để hệ thống kiểm tra
              </h2>
              <a class="btn btn-light btn-lg uppload-button">  Bắt đầu</a>
            </div>
          </div>
          <div
            class="col-lg-6 d-lg-flex flex-lg-column align-items-stretch order-1 order-lg-2 hero-img aos-init aos-animate"
            data-aos="fade-up"
            style="padding-left: 20px"
          >
            <img
              src="assets/img/mainpage.jpg"
              class="img-fluid"
              alt=""
              id="image-output"
              style="width: fit-content; margin: auto"
            />
            <p
              id="image-credits"
              style="font-size: 10px; text-align: end; margin-top: 5px"
            >
             
            </p>
            <div id="result-div" style="display: none; margin-top: 20px">
              <label>Prediction Result:</label>
              <textarea class="form-control" rows="2" id="output"></textarea>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Hero -->

    <main id="main">
   

      <!-- Vendor JS Files -->
      <script src="assets/vendor/jquery/jquery.min.js"></script>
      <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
      <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
      <script src="assets/vendor/venobox/venobox.min.js"></script>
      <script src="assets/vendor/aos/aos.js"></script>

      <!-- Template Main JS File -->
      <script src="assets/js/main.js"></script>
      <script
        src="https://unpkg.com/uppload@2.3.0/dist/browser.js"
        crossorigin="anonymous"
      ></script>
      <script>
        var uploader = new window.uppload_Uppload({
          lang: window.uppload_en,
          call: ".uppload-button",
          compressor: (file) => {
            return new Promise((resolve, reject) => {
              resolve(file);
            }
          )},
          uploader: window.uppload_xhrUploader({
            endpoint: "http://localhost:5000",
            responseFunction: (responseText) => {
            var json = {
                original_img_url:
                  `http://localhost:5000/uploads/${responseText}.jpg`,
                img_url:
                `http://localhost:5000/uploads/${responseText}.jpg`,
                num_faces: 1,
                pred: [0.3],
                face_list: [
                  `http://localhost:5000/uploads/${responseText}.jpg`,
                ],
              };
              $("#output").val(json.pred);
              document.getElementById("image-credits").style.display = "none";
              document.getElementById("image-output").src = json.img_url;

              var html =
                '<span class="label label-info" style="margin-left: 10px; font-weight: bolder;">Prediction Results</span>';
              for (var i = 0; i < json.num_faces; i++) {
                html += '<div class="row">';
                html += '<div class="col-lg-3">';
                html +=
                  '<img src="' +
                  json.face_list[i] +
                  '" "/>';
                html += "</div>";
                html += '<div class="col-lg-9" style="margin: auto;">';
                html += "</div>";
                html += "</div>";
              }
              var result_div = document.getElementById("result-div");
              result_div.innerHTML = html;
              result_div.style.display = "block";
              return;
            },
          }),
        });

        uploader.use(
          new window.uppload_Local({
            mimeTypes: ["image/png", "image/jpeg", "image/jpg"],
            maxFileSize: 15000000,
          })
        );

        uploader.use(new window.uppload_Preview());
      </script>
    </strong>
    <nav class="mobile-nav d-lg-none">
      <ul>
        <li class="active"><a href="#header">Home</a></li>
        <li><a href="#results">Samples</a></li>
        <li><a href="#details">Details</a></li>
      </ul>
    </nav>
    <div class="mobile-nav-overly"></div>
    <div class="uppload-container">
      <div class="uppload-modal">
        <aside style="display: none" class="uppload-services--single">
          <nav class="uppload-services">
            <div data-uppload-service="local" class="uppload-service-name">
              <input
                type="radio"
                id="uppload-service-radio-local"
                value="local"
                name="uppload-radio"
              />
              <label
                for="uppload-service-radio-local"
                data-uppload-service="local"
              >
                <svg
                  aria-hidden="true"
                  viewBox="0 0 256 256"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g fill="#34495e" fill-rule="nonzero">
                    <path d="M177 56L125 4l-3-2v57h57c0-2-1-3-2-3z"></path>
                    <path
                      d="M173 113h8V75h-66c-5 0-8-4-8-8V1H27c-4 0-8 4-8 8v184c0 4 4 8 8 8h65v-8c0-45 36-80 81-80z"
                    ></path>
                    <path
                      d="M173 128c-36 0-65 29-65 64s29 64 65 64c35 0 64-29 64-64s-29-64-64-64zm27 63h-14v33c0 2-2 3-4 3h-20c-2 0-3-1-3-3v-33h-14c-3 0-5-3-3-5l28-30c1-2 3-2 5 0l27 30c2 2 1 5-2 5z"
                    ></path>
                  </g>
                </svg>
                <span>Choose file</span>
              </label>
            </div>
          </nav>
        </aside>
        <section>
          <div class="uppload-active-container">
            <div class="uppload-service uppload-service--default">
              <p>Select an image</p>
              <div class="uppload-services">
                <div data-uppload-service="local" class="uppload-service-name">
                  <button data-uppload-service="local">
                    <svg
                      aria-hidden="true"
                      viewBox="0 0 256 256"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g fill="#34495e" fill-rule="nonzero">
                        <path d="M177 56L125 4l-3-2v57h57c0-2-1-3-2-3z"></path>
                        <path
                          d="M173 113h8V75h-66c-5 0-8-4-8-8V1H27c-4 0-8 4-8 8v184c0 4 4 8 8 8h65v-8c0-45 36-80 81-80z"
                        ></path>
                        <path
                          d="M173 128c-36 0-65 29-65 64s29 64 65 64c35 0 64-29 64-64s-29-64-64-64zm27 63h-14v33c0 2-2 3-4 3h-20c-2 0-3-1-3-3v-33h-14c-3 0-5-3-3-5l28-30c1-2 3-2 5 0l27 30c2 2 1 5-2 5z"
                        ></path>
                      </g>
                    </svg>
                    <span>Choose file</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <footer style="display: none" class="effects-nav">
            <div class="effects-continue">
              <button class="effects-continue--cancel">Cancel</button>
            </div>
            <div class="effects-tabs" style="width: 0px">
              <div class="effects-tabs-flow">
                <input
                  type="radio"
                  id="uppload-effect-radio-preview"
                  value="preview"
                  name="uppload-effect-radio"
                />
                <label for="uppload-effect-radio-preview">
                  <svg
                    aria-hidden="true"
                    viewBox="0 0 256 256"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g
                      transform="translate(1 18)"
                      fill="#000"
                      fill-rule="nonzero"
                    >
                      <path
                        d="M244 40h-29V10c0-6-5-10-10-10H10C4 0 0 4 0 10v160c0 5 4 10 10 10h29v30c0 6 4 10 9 10h195c6 0 10-4 10-10V50c0-5-4-10-9-10zm-10 136l-40-45c-4-5-11-5-15 0l-17 19-38-45c-4-5-13-5-17 0l-49 58V60h176v116zM19 160V20h176v20H49c-6 0-10 5-10 10v110H19z"
                      ></path>
                      <ellipse cx="202.5" cy="94" rx="15.5" ry="16"></ellipse>
                    </g>
                  </svg>
                  <span>Preview</span>
                </label>
              </div>
            </div>
            <div class="effects-continue">
              <button class="effects-continue--upload">Upload</button>
            </div>
          </footer>
        </section>
        <div class="uppload-help-loading">
          <div class="uppload-loader">
            <div></div>
            <p class="uppload-loader-text">Loading help...</p>
          </div>
        </div>
        <div class="uppload-help">
          <div>
            <button>
              <span>Close help</span><span aria-hidden="true">×</span>
            </button>
          </div>
          <iframe></iframe>
        </div>
      </div>
      <div class="uppload-modal-bg">
        <button class="uppload-close" aria-label="Close">×</button>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
